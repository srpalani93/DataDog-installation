Get the api key for datadog login:

https://app.datadoghq.com/organization-settings/api-keys


kubectl create namespace datadog

helm repo add datadog https://helm.datadoghq.com
helm repo update

Data-dog-values.yaml

datadog:
  apiKey: "<YOUR_DATADOG_API_KEY>"
  site: datadoghq.com

  clusterName: kubeadm-ec2-cluster

  kubeStateMetricsEnabled: true

  logs:
    enabled: true
    containerCollectAll: true

  apm:
    enabled: true
    portEnabled: true

  processAgent:
    enabled: true
    processCollection: true   # ðŸ”¥ Important (add this)

  networkMonitoring:
    enabled: true

  prometheusScrape:
    enabled: true

  kubelet:
    tlsVerify: false

  containerRuntimeSupport:
    enabled: true

agents:
  tolerations:
    - operator: "Exists"

  # ðŸ”¥ Important for process & network monitoring
  containers:
    agent:
      securityContext:
        privileged: true

apply command:

helm install datadog datadog/datadog \
  -n datadog \
  -f datadog-values.yaml


kubectl get pods -n datadog

to verify the datadog console:

https://app.datadoghq.com

kubectl exec -it -n datadog <datadog-agent-pod> -- agent status
